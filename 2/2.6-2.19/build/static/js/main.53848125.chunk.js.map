{"version":3,"sources":["components/Person.js","services/Numbers.js","App.js","index.js"],"names":["Person","_ref","person","del","react_default","a","createElement","name","number","onClick","id","baseUrl","Numbers","getAll","axios","get","create","newObject","post","delete","concat","update","put","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleNewName","event","setState","newName","target","value","handleNewNumber","newNumber","handleFilter","filter","addPerson","preventDefault","result","state","persons","find","undefined","personObject","numberService","then","response","data","notification","window","confirm","updatedNumber","objectSpread","map","parseInt","catch","error","p","setTimeout","_this2","_this3","namesToShow","e","includes","App_Notification","message","App_Error","onChange","onSubmit","type","components_Person","key","React","Component","Notification","className","Error","_ref2","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.53848125.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Person = ({person, del}) => {\n        return (\n                <div>\n                   <p>{person.name}    {person.number} <button onClick={del}> Poista {person.id} </button></p> \n\n                 </div>\n      )\n}\n\nexport default Person\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst del = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { getAll, create, del, update }","import React from 'react'\n\nimport Person from './components/Person'\nimport numberService from './services/Numbers'\n\n\nclass App extends React.Component {\n    constructor(props) {\n      super(props)\n      this.state = {\n        persons: [],\n        newName: '',\n        newNumber: '',\n        filter: '',\n        notification: null,\n        error: null\n      }\n    }\n    \n    componentDidMount() {\n        numberService\n            .getAll()\n            .then(response => {\n                this.setState({persons: response.data})\n            })\n        \n      }\n\n    handleNewName = (event) => {\n      this.setState({ newName: event.target.value })\n    }\n    handleNewNumber = (event) => {\n      this.setState({ newNumber: event.target.value })\n    }\n  \n    handleFilter = (event) => {\n        this.setState({ filter:event.target.value })\n    }\n  \n    addPerson = (event) =>{\n      event.preventDefault()\n      \n      const result = this.state.persons.find(person => {\n        if(person.name === this.state.newName){\n            return person\n        }  \n      })\n    \n      if(result === undefined) {\n          const personObject = {\n              name: this.state.newName,\n              number: this.state.newNumber\n          }\n\n          numberService\n            .create(personObject)\n            .then(response => {\n                this.setState({\n                    persons: this.state.persons.concat(response.data),\n                    notification: `Lisätty ${this.state.newName}`\n                })\n            })\n  \n      } else {\n        if(window.confirm(this.state.newName + ' on jo listassa, haluatko päivittää numeron?')) {\n            const updatedNumber = {...result,number: this.state.newNumber}\n\n            numberService\n            .update(result.id, updatedNumber)\n            .then(response => {\n              this.setState({\n                persons: this.state.persons.map(person => person.id !== result.id ? person : response.data),\n                notification: `Muutettu ${result.name} numeroa`\n              })\n            })\n        }\n      }\n    }\n\n    del = (id) => {\n        return () => {\n            if(window.confirm('Olet poistamassa ' + this.state.persons[parseInt(id)-1].name)) {\n                numberService\n                .del(id)\n                .then(response => {\n                    numberService\n                    .getAll()\n                    .then(response => {\n                      this.setState({persons: response.data, notification: `Poistettu ${this.state.persons[parseInt(id)-1].name}`})\n                    })\n                })\n                .catch(error => {\n                  this.setState({\n                    error: `Henkilö '${this.state.persons[parseInt(id)-1].name}' on jo valitettavasti poistettu palvelimelta`,\n                    persons: this.state.persons.filter(p => p.id !== id)\n                  })\n                  setTimeout(() => {\n                    this.setState({error: null})\n                  }, 5000)\n                })\n            }\n        }\n\n        \n    }\n  \n    render() {\n  \n      const namesToShow = this.state.persons.filter(e => {\n          return e.name.includes(this.state.filter)\n      })\n  \n      return (\n        <div>\n          <h2>Puhelinluettelo</h2>\n          <Notification message={this.state.notification}/>\n          <Error message={this.state.error}/>\n          <div>\n  \n              Rajaa nimia:<input \n              value={this.state.filter}\n              onChange={this.handleFilter}\n              />\n          </div>\n          <form onSubmit={this.addPerson}>\n            <div>\n              nimi: <input \n              value={this.state.newName} \n              onChange={this.handleNewName}\n              />\n            </div>\n            <div>\n              numero: <input \n              value={this.state.newNumber} \n              onChange={this.handleNewNumber}\n              />\n            </div>\n            <div>\n              <button type=\"submit\">lisää</button>\n            </div>\n          </form>\n          <h2>Numerot</h2>\n          \n            {namesToShow.map(person => <Person key={person.name} person={person} del={this.del(person.id)}/>)}\n          \n        </div>\n      )\n    }\n  }\n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n    return (\n      <div className=\"notification\">\n        {message}\n      </div>\n    )\n  }\n  const Error = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n  export default App","import React from 'react';\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n  )"],"sourceRoot":""}